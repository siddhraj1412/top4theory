<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 4 Theory - Letterboxd Analyzer</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¬</text></svg>">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6MXK1C0WSL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6MXK1C0WSL');
    </script>
</head>
<body>
    <div class="background-gradient"></div>
    
    <div class="container">
        <header class="header">
            <h1 class="logo">ğŸ¬ Top 4 <span class="highlight">Theory</span></h1>
            <p class="tagline">Discover your true Cinema Level based on your Letterboxd Top 4</p>
            <a href="https://letterboxd.com/SiddhrajThakor/" target="_blank" class="creator-badge">
                by @SiddhrajThakor
            </a>
        </header>

        <div class="search-section">
            <div class="search-box">
                <input type="text" id="username" placeholder="Enter your Letterboxd username" autocomplete="off">
                <button onclick="fetchRank()" id="analyzeBtn">
                    <span class="btn-text">ANALYZE</span>
                    <span class="btn-loader hidden">â³</span>
                </button>
            </div>
            <p class="hint">Example: Try "SiddhrajThakor" or any Letterboxd username</p>
        </div>

        <div id="error" class="error-box hidden"></div>

        <div id="result" class="result hidden">
            <div class="rank-card" id="rankCard">
                <div class="tier-badge" id="tierBadge">
                    <span class="tier-icon" id="tierIcon">ğŸ“º</span>
                </div>
                <div class="rank-info">
                    <div class="username-display">@<span id="displayUser">username</span></div>
                    <div class="tier-level">Level <span id="levelVal">1</span></div>
                    <div class="tier-name" id="tierName">The Casual Viewer</div>
                    <div class="tier-description" id="tierDescription">You watch movies to kill time.</div>
                </div>
                <div class="score-section">
                    <div class="score-item">
                        <div class="score-value" id="scoreVal">0</div>
                        <div class="score-label">Score</div>
                    </div>
                    <div class="score-item">
                        <div class="score-value"><span id="avgRating">â˜†</span></div>
                        <div class="score-label">Avg Rating</div>
                    </div>
                </div>
            </div>

            <div class="analysis-section">
                <h3>ğŸ“Š Top 4 Analysis Breakdown</h3>
                <div class="analysis-grid" id="analysisGrid"></div>
            </div>

            <div class="reasons-section">
                <h3>ğŸ” Why This Rank?</h3>
                <ul id="reasonsList"></ul>
            </div>

            <div class="movies-section">
                <h3>ğŸ¥ Your Top 4 Films</h3>
                <div class="movie-grid" id="movieGrid"></div>
            </div>

            <div class="profile-analysis-section" id="profileAnalysis">
                <h3>ğŸ“Š Profile Breakdown</h3>
                <p class="section-subtitle">Complete analysis of your Letterboxd profile</p>
                <div class="profile-analysis-content" id="profileAnalysisContent"></div>
            </div>
        </div>

        <div class="tiers-section">
            <h2>ğŸ† The 10-Level Cinema Hierarchy</h2>
            <div class="tiers-grid" id="tiersGrid">
                <div class="tier-item" style="--tier-color: #6c757d">
                    <span class="tier-num">1</span>
                    <span class="tier-emoji">ğŸ“º</span>
                    <span class="tier-title">The Casual Viewer</span>
                </div>
                <div class="tier-item" style="--tier-color: #fd7e14">
                    <span class="tier-num">2</span>
                    <span class="tier-emoji">ğŸ¿</span>
                    <span class="tier-title">The Popcorn Enthusiast</span>
                </div>
                <div class="tier-item" style="--tier-color: #20c997">
                    <span class="tier-num">3</span>
                    <span class="tier-emoji">ğŸŸï¸</span>
                    <span class="tier-title">The Avid Watcher</span>
                </div>
                <div class="tier-item" style="--tier-color: #0dcaf0">
                    <span class="tier-num">4</span>
                    <span class="tier-emoji">ğŸŒŠ</span>
                    <span class="tier-title">The Eclectic Explorer</span>
                </div>
                <div class="tier-item" style="--tier-color: #6f42c1">
                    <span class="tier-num">5</span>
                    <span class="tier-emoji">ğŸ¥ƒ</span>
                    <span class="tier-title">The Dedicated Cinephile</span>
                </div>
                <div class="tier-item" style="--tier-color: #d63384">
                    <span class="tier-num">6</span>
                    <span class="tier-emoji">ğŸ©</span>
                    <span class="tier-title">The Refined Curator</span>
                </div>
                <div class="tier-item" style="--tier-color: #ffc107">
                    <span class="tier-num">7</span>
                    <span class="tier-emoji">ğŸ·</span>
                    <span class="tier-title">The Cinema Connoisseur</span>
                </div>
                <div class="tier-item" style="--tier-color: #198754">
                    <span class="tier-num">8</span>
                    <span class="tier-emoji">ğŸï¸</span>
                    <span class="tier-title">The Elite Cinephile</span>
                </div>
                <div class="tier-item" style="--tier-color: #dc3545">
                    <span class="tier-num">9</span>
                    <span class="tier-emoji">ğŸ‘ï¸</span>
                    <span class="tier-title">The Master Curator</span>
                </div>
                <div class="tier-item legendary" style="--tier-color: #ffd700">
                    <span class="tier-num">10</span>
                    <span class="tier-emoji">ğŸ†</span>
                    <span class="tier-title">The Cinema Deity</span>
                </div>
            </div>
        </div>

        <footer class="footer">
            <div class="footer-content">
                <div class="footer-buttons">
                    <a href="https://forms.gle/2arhuQwDaCs94Rn59" target="_blank" class="footer-btn feedback-btn">
                        Send Feedback
                    </a>
                    <a href="https://buymeacoffee.com/siddhrajthakor" target="_blank" class="footer-btn coffee-btn">
                        Buy me a coffee
                    </a>
                </div>
                
                <p class="footer-note">Rating shown is out of 5 stars (multiply by 2 for TMDB's /10 scale)</p>
                <p class="footer-credits">Built with â¤ï¸ by <a href="https://letterboxd.com/SiddhrajThakor/" target="_blank" class="footer-link">@SiddhrajThakor</a> | Data from TMDB & Letterboxd</p>
            </div>
        </footer>
    </div>
    
    <script src="script.js"></script>
</body>
</html>